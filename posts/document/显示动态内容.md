页面中通常会显示一些动态的内容，在 ```cmis``` 中，所有的数据都被当做 ```state```，要想在页面中使用它们，就必须先对其进行定义。

## 定义state

要定义页面的 ```state```，需要在当前页面目录内创建一个 ```_assets/state.js``` 文件，该文件内部需要定义一个名为 ```appState``` 的符合 ```json``` 语法的 ```普通JavaScript对象```，并导出该对象。

基于 [Hello World!](#HelloWorld!.md) 一节的示例，我们为该页面定义 ```state``` 之后，其目录结构是：

```
~/src
	|- pages
		|- index
			|- _assets
			|	|- state.js
			|
			|- index.html
```

```_assets/state.js``` 文件的内容如下：

```javascript
/* --- 初始化问候语 start --- */

let time = new Date();
let dateStr = time.toDateString();

let morning = Date.parse(dateStr + ' 12:00:00');
let afternoon = Date.parse(dateStr + ' 19:00:00');

let greetings;

if (time < morning) {
	greetings = '上午好!';
} else if (time < afternoon) {
	greetings = '下午好!';
} else {
	greetings = '晚上好!';
}

/* --- 初始化问候语 end --- */

// 定义并导出页面的状态集合
export appState = {
	greetings
};
```

## 绑定state

在页面中，可以通过 ```$appState``` 这个 ```页面变量``` 来访问当前的 ```state```。

同时，由于使用了动态数据访问，在页面中我们需要一种特殊的语法以支持我们的这种操作，```cmis``` 允许在页面中使用 ```{``` 和 ```}```<sup>(注1)</sup> 标记来切换至动态计算上下文，在该标记内允许插入一个 ```JavaScript表达式```，该表达式的值将被插入到页面中<sup>(注2)</sup>。

> 注1：两个符号分别是大括号和反大括号。

> 注2：只允许在 ```html``` 元素的内部 和 ```html attribute``` 上使用 ```{}``` 来切换至动态计算上下文。

修改 ```index.html```，显示问候语：

```html
<%@route path="/"%>

<h1>{$appState. greetings}</h1>

```